(this.webpackJsonpfokus=this.webpackJsonpfokus||[]).push([[0],{35:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),i=n.n(r),c=n(7),o=n.n(c),s=(n(35),n(6)),d=n(29),l=n(11),u=n(5),f=n(9),p=Object(f.b)({name:"tasks",initialState:{taskArray:[],meta:{globalKey:0,completedTaskStartIndex:-1}},reducers:{create:function(e,t){var n=t.payload;e.taskArray.unshift(n),-1!=e.meta.completedTaskStartIndex&&++e.meta.completedTaskStartIndex},remove:function(e,t){var n=t.payload;e.taskArray=e.taskArray.filter((function(t){return t.id!==n||(t.isCompleted||-1!=e.meta.completedTaskStartIndex&&--e.meta.completedTaskStartIndex,!1)}))},update:function(e,t){var n=e.taskArray,a=t.payload;n.forEach((function(e){e.id===a.id&&(e.content=a.updatedTask)}))},updateOrder:function(e,t){var n=t.payload;e.taskArray=n},tick:function(e,t){var n=e.taskArray,a=t.payload;n.forEach((function(e){e.id===a&&(e.remainingTime=e.remainingTime-1)}))},reset:function(e,t){var n=t.payload;e.forEach((function(e){e.id===n&&(e.remainingTime=e.time,e.isRunning=!1)}))},toggleIsRunning:function(e,t){var n=e.taskArray,a=t.payload;n.forEach((function(e){e.id===a&&(e.isRunning=!e.isRunning)}))},toggleIsCompleted:function(e,t){var n=e.taskArray,a=t.payload;n.forEach((function(e){e.id===a&&(e.isCompleted=!e.isCompleted)}))},incrementGlobalKey:function(e){++e.meta.globalKey},rearrange:function(e,t){var n=t.payload,a=n.id;if(n.markedAsComplete)if(-1===e.meta.completedTaskStartIndex){e.meta.completedTaskStartIndex=e.taskArray.length-1;for(var r=!1,i=0;i<e.taskArray.length-1;i++)if(r){var c=e.taskArray[i];e.taskArray[i]=e.taskArray[i+1],e.taskArray[i+1]=c}else if(e.taskArray[i].id===a){r=!0;var o=e.taskArray[i];e.taskArray[i]=e.taskArray[i+1],e.taskArray[i+1]=o}e.meta.completedTaskStartIndex=e.taskArray.length-1}else{for(var s,d,l=0;l<e.taskArray.length;l++)if(e.taskArray[l].id===a){s=e.taskArray[l],d=l;break}for(var u=-1,f=e.meta.completedTaskStartIndex;f<e.taskArray.length;f++)if(!(e.taskArray[f].globalKey>s.globalKey)){u=f;break}-1===u?e.taskArray.push(s):e.taskArray.splice(u,0,s),e.taskArray.splice(d,1),e.meta.completedTaskStartIndex-=1}else{if(0==e.meta.completedTaskStartIndex){for(var p,m,b=e.meta.completedTaskStartIndex;b<e.taskArray.length;b++)if(e.taskArray[b].id===a){p=e.taskArray[b],m=b;break}e.taskArray.splice(m,1),e.taskArray.unshift(p),e.meta.completedTaskStartIndex=1}else{for(var k,g,j=e.meta.completedTaskStartIndex;j<e.taskArray.length;j++)if(e.taskArray[j].id===a){k=e.taskArray[j],g=j;break}for(var y=-1,x=e.meta.completedTaskStartIndex-1;x>=0;x--)if(!(e.taskArray[x].globalKey<k.globalKey)){y=x;break}e.taskArray.splice(g,1),-1===y?e.taskArray.unshift(k):(y++,e.taskArray.splice(y,0,k)),e.meta.completedTaskStartIndex+=1}e.meta.completedTaskStartIndex==e.taskArray.length&&(e.meta.completedTaskStartIndex=-1)}}}}),m=p.actions,b=m.create,k=m.remove,g=m.update,j=m.reset,y=m.toggleIsRunning,x=m.tick,h=m.toggleIsCompleted,v=m.updateOrder,O=m.incrementGlobalKey,A=m.rearrange,I=p.reducer,S=n(14);var T=n(15),w=n(12),K=n(28),C=n(27),R=n(17);function E(){var e=Object(S.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    height: 120px;\n    width: 40px;\n    border-radius: 0 10px 10px 0;\n"]);return E=function(){return e},e}function D(){var e=Object(S.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100px;\n    width: 100px;\n    border-radius: 10px;\n    background-color: #eeeeff;\n    position: relative;\n"]);return D=function(){return e},e}function B(){var e=Object(S.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    height: 100px;\n    width: 280px;\n    margin: 0 0 0 10px;\n    border-radius: 20px;\n    h3,\n    p {\n        margin: 2px;\n        padding: 0;\n    }\n    p {\n        font-size: 0.6rem;\n        font-style: italic;\n        color: grey;\n    }\n"]);return B=function(){return e},e}function M(){var e=Object(S.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    height: 120px;\n    width: 476px;\n    border-radius: 10px;\n    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.2);\n    background: #f8f8ff;\n    margin: 10px;\n"]);return M=function(){return e},e}function P(e){var t=e%60,n=Math.floor(e/60);return 0==t?t="00":t<10&&(t="0".concat(t)),0==n?n="00":n<10&&(n="0".concat(n)),"".concat(n,":").concat(t)}var z=T.a.div(M()),G=T.a.div(B()),H=T.a.div(D()),J=T.a.div(E());function N(e){var t=e.task,n=e.forwardRBDProvided,i=Object(u.c)();!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){t.remainingTime>0?i(x(t.id)):0===t.remainingTime&&i(y(t.id))}),t.isRunning?1e3:null);var c=Object(r.useState)(!1),o=Object(l.a)(c,2),d=o[0],f=o[1],p=Object(r.useState)(t.content),m=Object(l.a)(p,2),b=m[0],v=m[1];return Object(a.jsx)(R.a,{flipId:"".concat(t.id),children:Object(a.jsxs)(z,Object(s.a)(Object(s.a)(Object(s.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[Object(a.jsxs)(G,{children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(w.b,{}),Math.round(t.time/60)+"min"]}),d?Object(a.jsx)("input",{value:b,onBlur:function(){i(g({id:t.id,updatedTask:b})),f(!1)},onChange:function(e){return v(e.target.value)}}):Object(a.jsx)("h3",{onDoubleClick:function(){return f(!0)},children:t.globalKey+": "+t.content}),Object(a.jsx)("p",{children:"created at: ".concat(new Date(t.createdAt).getHours(),":").concat(new Date(t.createdAt).getMinutes())})]}),Object(a.jsxs)(H,{children:[Object(a.jsx)("h2",{children:P(t.remainingTime)}),Object(a.jsx)(C.a,{style:{position:"absolute",bottom:5,right:5,fontSize:"0.8rem"},onClick:function(){return i(j(t.id))}})]}),Object(a.jsxs)(J,{style:{fontSize:"1.5rem"},children:[t.isCompleted?Object(a.jsx)(w.a,{onClick:function(){i(h(t.id)),i(A({id:t.id,markedAsComplete:!1}))}}):Object(a.jsx)(w.e,{onClick:function(){i(h(t.id)),i(A({id:t.id,markedAsComplete:!0}))}}),t.isRunning?Object(a.jsx)(w.c,{onClick:function(){return i(y(t.id))}}):Object(a.jsx)(w.d,{onClick:function(){return i(y(t.id))}}),Object(a.jsx)(K.a,{onClick:function(){return i(k(t.id))}})]})]}))})}var W=n(18);function F(){var e=Object(u.d)((function(e){return e.tasks.taskArray})),t=Object(u.d)((function(e){return e.tasks.meta})),n=Object(u.c)(),i=Object(r.useState)(""),c=Object(l.a)(i,2),o=c[0],f=c[1];function p(){var t="";return e.forEach((function(e){t+="".concat(e.globalKey)})),t}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)},onKeyDown:function(e){if("Enter"===e.key&&o.trim().length>2){var a=o.trim().split(" "),r=0;r=isNaN(parseInt(a[a.length-1]))?20:parseInt(a.pop()),a=a.join(" ");var i={id:Math.floor(1e4*Math.random()),globalKey:t.globalKey,content:a,time:60*r,remainingTime:60*r,isRunning:!1,isCompleted:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};n(b(i)),n(O()),f(""),e.target.value="",e.target.focus()}}}),Object(a.jsx)(W.a,{onDragEnd:function(t){if(t.destination){var a=Object(d.a)(e.map((function(e){return Object(s.a)({},e)}))),r=a.splice(t.source.index,1),i=Object(l.a)(r,1)[0];a.splice(t.destination.index,0,i);for(var c=t.source.index,o=t.destination.index>t.source.index;c!=t.destination.index;)o?(console.log(a[c].globalKey),a[c].globalKey=e[c].globalKey,console.log(e[c].globalKey),c++):(a[c].globalKey=e[c].globalKey,c--),c==t.destination.index&&(a[c].globalKey=e[c].globalKey);n(v(a))}},children:Object(a.jsx)(W.c,{droppableId:"dropArea",children:function(t){return Object(a.jsx)("div",Object(s.a)(Object(s.a)({},t.droppableProps),{},{ref:t.innerRef,children:Object(a.jsxs)(R.b,{flipKey:p(),children:[e.map((function(e,t){return Object(a.jsx)(W.b,{draggableId:"".concat(e.id),index:t,children:function(t){return Object(a.jsx)(N,{forwardRBDProvided:t,task:e})}},e.id)})),t.placeholder]})}))}})})]})}var $=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(F,{})})},q=Object(f.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),L=q.actions,Q=(L.increment,L.decrement,L.incrementByAmount,q.reducer),U=Object(f.a)({reducer:{counter:Q,tasks:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(u.a,{store:U,children:Object(a.jsx)($,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.71e10010.chunk.js.map